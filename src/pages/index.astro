---
import PageLayout from "@/layouts/Base.astro";
import { Image } from "astro:assets";
---

<PageLayout meta={{ title: "Home" }}>
	<!-- Hero section -->
	<!-- Featured News Section -->
	<section class="relative px-6 py-12 max-w-7xl mx-auto">
		<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
			
			<!-- Left: Big Featured Post -->
			<div class="group lg:col-span-2">
				<div class="sticky top-6 flex flex-col gap-6">
					
					<!-- Featured Image + Overlay -->
					<div class="relative w-full h-[60vh] rounded-2xl overflow-hidden shadow-lg">
						<Image 
							src="/images/featured-1.jpg" 
							alt="Featured Post" 
							width={1200} 
							height={800} 
							class="w-full h-full object-cover group-hover:scale-[1.02] transition-all duration-200 ease-out" 
							loading="eager" 
						/>
						<div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"></div>
						<div class="absolute bottom-6 left-6 right-6 text-white">
							<h2 class="text-3xl md:text-4xl font-bold mt-3">
								Upgrading LMMs-Eval to v0.4
							</h2>
							<p class="mt-2 text-base text-gray-200 line-clamp-2">
								LMMs-Eval is a comprehensive evaluation framework for multimodal models,
								designed to facilitate the development and benchmarking of multimodal models.
							</p>
						</div>
					</div>
	
					<!-- Buttons under image -->
					<div class="flex gap-4 mb-4 justify-center md:justify-start">
						<a href="https://github.com/EvolvingLMMs-Lab/lmms-eval" 
							 class="px-5 py-2 border border-gray-300 rounded-full text-gray-700 dark:text-gray-100 
											hover:border-accent-one hover:text-accent-one transition-all text-sm font-medium dark:hover:text-accent-base">
							Get Started
						</a>
						<a href="https://github.com/EvolvingLMMs-Lab/lmms-eval/blob/main/docs/lmms-eval-0.4.md" 
							 class="px-5 py-2 border border-gray-300 bg-accent-one rounded-full text-gray-100 dark:text-gray-900 
											hover:border-accent-one hover:bg-transparent hover:text-accent-one dark:hover:text-gray-200 transition-all text-sm font-medium dark:font-medium dark:hover:font-normal">
							Learn More
						</a>
						
					</div>
					
				</div>
			</div>

			<!-- Right: Smaller Posts -->
			<div class="flex flex-col gap-6 w-full">
				<!-- Post Card -->
				<a href="/posts/aero_audio/" class="group flex flex-col gap-4 items-start mb-6">
					<div class="w-fill aspect-square rounded-lg overflow-hidden flex-shrink-0">
						<Image 
						src="/images/featured-2.jpg" 
						alt="Post 1" 
						width={800} 
						height={800} 
						class="w-full h-full object-cover group-hover:scale-[1.02] transition-transform ease-out" 
						loading="eager" 
					/>
					</div>
					<div>
						<h2 class="font-semibold text-lg group-hover:text-accent-one transition-colors">Aero-1-Audio</h2>
						<p class="text-sm text-textColor/70 dark:text-textColorDark/70 line-clamp-2">Our best audio model.</p>
					</div>
				</a>

				<!-- Post Card -->
				<a href="/posts/llava_onevision/" class="group flex flex-col gap-4 items-start mb-6">
					<div class="w-fill aspect-square rounded-lg overflow-hidden flex-shrink-0">
						<Image
						src="/images/featured-3.jpg" 
						alt="Post 2" 
						width={800} 
						height={800} 
						class="w-full h-full object-cover group-hover:scale-[1.02] transition-transform ease-out" 
						loading="eager" 
						/>
					</div>
					<div>
						<h2 class="font-semibold text-lg group-hover:text-accent-one transition-colors">LLaVA-OneVision</h2>
						<p class="text-sm text-textColor/70 dark:text-textColorDark/70 line-clamp-2">Multimodal LLM.</p>
					</div>
				</a>

				<!-- Post Card -->
				<a href="/posts/longva/" class="group flex flex-col gap-4 items-start fade-in-section">
					<div class="w-fill aspect-square rounded-lg overflow-hidden flex-shrink-0">
						<Image 
						src="/images/featured-4.jpg" 
						alt="Post 3" 
						width={800} 
						height={800} 
						class="w-full h-full object-cover group-hover:scale-[1.02] transition-transform ease-out" 
						loading="lazy" 
						/>
					</div>
					<div>
						<h2 class="font-semibold text-lg group-hover:text-accent-one transition-colors">LongVA</h2>
						<p class="text-sm text-textColor/70 dark:text-textColorDark/70 line-clamp-2">Long context capability can zero-shot transfer from language to vision.</p>
					</div>
				</a>
			</div>
		</div>
	</section>

	<!-- Background blur -->
	<div class="absolute top-0 left-1/2 md:top-[-15%] -ml-[50vw] min-h-screen w-screen pointer-events-none blur-3xl opacity-50 overflow-x-hidden">
		<div class="absolute top-[10%] right-[-40%] w-[65%] h-full bg-gradient-to-b from-purple-300 via-blue-300 to-transparent rounded-full opacity-30 dark:opacity-10"></div>
		<div class="absolute top-[10%] left-[-40%] w-[65%] h-full bg-gradient-to-b from-blue-300 via-pink-300 to-transparent rounded-full opacity-30 dark:opacity-10"></div>
		<div class="absolute top-[-20%] left-[-50%] w-[85%] h-full bg-gradient-to-b from-indigo-300 via-orange-300 to-transparent rounded-full opacity-60 dark:opacity-10"></div>
		<div class="absolute top-[-20%] right-[-50%] w-[85%] h-full bg-gradient-to-b from-orange-300 via-indigo-300 to-transparent rounded-full opacity-60 dark:opacity-10"></div>
	</div>

	<!-- LLMs-Eval Header -->
	 
	<!-- <section class="relative flex flex-col items-center justify-center min-h-[40vh] text-center px-6 pb-16">
		<div class="max-w-3xl">
			<h1 class="text-5xl md:text-7xl font-bold tracking-tight mb-4 text-left">
                Upgrading LMMs-Eval to v0.4
			</h1>
			<p class="mt-4 mb-6 text-lg text-textColor/80 dark:text-textColorDark/80">
				LMMs-Eval is a comprehensive evaluation framework for multimodal models, designed to facilitate the development and benchmarking of multimodal models.
			</p>
			<div class="relative my-6 mx-auto rounded-lg shadow-md overflow-hidden hover:brightness-110 transition-all w-full max-w-3xl">
				<img
					class="w-full h-auto"
					src="https://i.postimg.cc/44FDkT7M/lmmseval0d4.png"
					alt="Project screenshot"
					loading="lazy"
				/>
			</div>
			<div class="flex flex-col sm:flex-row justify-center gap-4">
				<a href="https://github.com/EvolvingLMMs-Lab/lmms-eval" class="relative flex items-center justify-center h-12 px-6 rounded-lg shadow-lg hover:brightness-110 transition-all bg-gradient-to-r from-accent-one to-accent-two">
					<span class="text-bgColor font-semibold">
						Start Building
					</span>
				</a>
				<a href="https://github.com/EvolvingLMMs-Lab/lmms-eval/blob/main/docs/lmms-eval-0.4.md" class="relative flex items-center justify-center h-12 px-6 rounded-lg shadow-lg bg-bgColor dark:bg-bgColorDark border border-borderColor dark:border-borderColorDark hover:brightness-110 hover:bg-bgColor/90 dark:hover:bg-bgColorDark/90">
					<span class="font-semibold text-textColor dark:text-textColorDark">
						Learn More
					</span>
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 ml-2"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" /></svg>
				</a>
			</div>
		</div>
	</section> -->

	<!-- Features Section -->
	<section class="pt-4 md:pt-4 pb-4 md:pb-4 px-4">
		<div class="absolute left-1/2 -translate-x-1/2 w-screen h-px bg-black/50 dark:bg-gray-200 opacity-20 dark:opacity-10"></div>
		
		<div class="max-w-5xl mt-10 mx-auto ">

			<div class="max-w-6xl mx-auto mb-10 fade-in-section">
				{/* Left side - Square image */}
				<div class="flex flex-col lg:flex-row items-start gap-12">
					<div class="flex-shrink-0">
						<div class="w-60 h-60 bg-gradient-to-br from-primary/20 to-chart-1/20 rounded-2xl overflow-hidden">
							<Image
								src="/images/about-us-home.jpg"
								alt="About Us"
								width={500}
								height={500}
								class="w-full h-full object-cover"
								loading="lazy"
							/>
						</div>
					</div>

					{/* Right side - Quote content */}
					<div class="flex-1 max-w-2xl">
						<div class="relative">

							<h1 class="font-bold mb-6 leading-tight text-left">About Us</h1>

							<blockquote class="text-lg md:text-lg text-muted-foreground leading-relaxed mb-6 text-left">
								LMMs-Lab is a non-profit research-oriented organization with a group of passionate researchers, we share the sincere passion for developing multimodal intelligence.
							</blockquote>

						</div>
					</div>
				</div>
			</div>

			<div class="absolute left-1/2 -translate-x-1/2 w-screen h-px bg-black/50 dark:bg-gray-200 opacity-20 dark:opacity-10"></div>

			<h1 class="text-4xl font-bold mt-20 leading-tight fade-in-section">Research Areas</h1>
			<div class="grid grid-cols-1 mt-10 md:grid-cols-2 lg:grid-cols-3 gap-8 auto-rows-fr fade-in-section">
				
				<!-- Feature 1: Models -->
				<a href="/tags/models" class="group relative block rounded-2xl p-6 duration-300 ease-in-out hover:border-accent-one/70 transition-all flex flex-col h-full">
					<span class="pointer-events-none absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-accent-one/40 to-transparent opacity-0 transition-opacity group-hover:opacity-100"></span>
					<div class="flex items-center gap-3">
						<div class="rounded-lg bg-accent-one/10">
							<Image 
							src="/images/featured-2.jpg" 
							alt="Models Icon" 
							width={96} 
							height={96} 
							class="w-24 h-24 object-cover object-center rounded-lg" 
							loading="lazy"
							/>
						</div>
					</div>
					<h2 class="mt-4 text-2xl font-semibold">Models</h3>
					<p class="text-sm mt-2 line-clamp-3">Access a growing collection of state-of-the-art open-source multimodal models.</p>
					<div class="mt-8 flex items-center mt-auto">
						<span class="text-sm font-medium group-hover:text-accent-one transition-colors">Browse</span>
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 ml-2 transition-transform group-hover:translate-x-0.5 group-hover:text-accent-one transition-colors"><path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" /></svg>
					</div>
				</a>

								<!-- Feature 2: Tools -->
				<a href="/tags/tools" class="group relative block rounded-2xl p-6 transition-all duration-300 ease-in-out hover:border-accent-two/70 flex flex-col h-full">
					<span class="pointer-events-none absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-accent-two/40 to-transparent opacity-0 transition-opacity group-hover:opacity-100"></span>
					<div class="flex items-center gap-3">
						<div class="rounded-lg bg-accent-two/10">
							<Image 
							src="/images/abstract-2.jpg" 
							alt="Tools Icon" 
							width={96} 
							height={96} 
							class="w-24 h-24 object-cover object-center rounded-lg" 
							loading="lazy"
							/>
						</div>
					</div>
					<h2 class="mt-4 text-2xl font-semibold">Tools</h2>
					<p class="text-sm mt-2 mb-6 line-clamp-3">Utilize intuitive tools designed for efficient development and experimentation.</p>
					<div class="mt-8 flex items-center mt-auto">
						<span class="text-sm font-medium group-hover:text-accent-two transition-colors">Explore</span>
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 ml-2 transition-transform group-hover:translate-x-0.5 group-hover:text-accent-two transition-colors"><path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" /></svg>	
					</div>
				</a>

				<!-- Feature 3: Research -->
				<a href="/tags/research" class="group relative block rounded-2xl p-6 transition-all duration-300 ease-in-out hover:border-purple-500/70 flex flex-col h-full">
					<span class="pointer-events-none absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-purple-500/40 to-transparent opacity-0 transition-opacity group-hover:opacity-100"></span>
					<div class="flex items-center gap-3">
						<div class="rounded-lg bg-purple-500/10">
							<Image 
							src="/images/abstract-1.jpg" 
							alt="Research Icon" 
							width={96} 
							height={96} 
							class="w-24 h-24 object-cover object-center rounded-lg" 
							loading="lazy"
							/>
						</div>
					</div>
					<h2 class="mt-4 text-2xl font-semibold">Research</h2>
					<p class="text-sm mt-2 line-clamp-3">Explore cutting-edge research and contribute to the advancement of multimodal AI.</p>
					<div class="mt-8 flex items-center mt-auto">
						<span class="text-sm font-medium group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors">Dive in</span>
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 ml-2 transition-transform group-hover:translate-x-0.5 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors"><path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" /></svg>	
					</div>
				</a>
			</div>
		</div>
	</section>

	<!-- Remove Posts Section -->
	<!--
	<section aria-label="Blog post list" class="'mt-[-100vh] pt-[100vh]'">
		<h2 class="title mb-6 text-xl text-accent-two">
			<a href="/posts/">Posts</a>
		</h2>
		<ul class="space-y-4 md:space-y-2" role="list">
			{
				allPostsByDate.map((p) => (
					<li class="gap-2 sm:grid-cols-[auto_1fr]">
						<PostPreview post={p} />
					</li>
				))
			}
		</ul>
	</section>
	-->

	<!-- Remove Notes Section -->
	<!--
	{
		latestNotes.length > 0 && (
			<section class="mt-12">
				<h2 class="title mb-6 text-accent-two">
					<a href="/notes/">Notes</a>
				</h2>
				<div class="grid grid-cols-1 gap-8 sm:grid-cols-2">
					{
						latestNotes.map((note) => (
							<div>
								<Note note={note} as="h4" isPreview />
							</div>
						))
					}
				</div>
			</section>
		)
	}
	-->

	<!-- Remove Debug Section -->
	<!--
	<div class="flex justify-between flex-wrap gap-y-1.5 mt-6 text-sm font-medium">
		<div class="text-center content-center h-10 w-10 bg-color-50"><span class="text-textColor">50</span></div>
		<div class="text-center content-center h-10 w-10 bg-color-75"><span class="text-textColor">75</span></div>
		<div class="text-center content-center h-10 w-10 bg-color-100"><span class="text-textColor">100</span></div>
		<div class="text-center content-center h-10 w-10 bg-color-150"><span class="text-textColor">150</span></div>
		<div class="text-center content-center h-10 w-10 bg-color-200"><span class="text-textColor">200</span></div>
		<div class="text-center content-center h-10 w-10 bg-color-250"><span class="text-textColor">250</span></div>
		<div class="text-center content-center h-10 w-10 bg-color-300"><span class="text-textColor">300</span></div>
		<div class="text-center content-center h-10 w-10 bg-color-350"><span class="text-textColor">350</span></div>
		<div class="text-center content-center h-10 w-10 bg-color-400">
			<span class="text-textColor">400</span>
			<span class="text-bgColor">400</span>
		</div>
		<div class="text-center content-center h-10 w-10 bg-color-450">
			<span class="text-textColor">450</span>
			<span class="text-bgColor">450</span>
		</div>
		<div class="text-center content-center h-10 w-10 bg-color-500">
			<span class="text-textColor">500</span>
			<span class="text-bgColor">500</span>
		</div>
		<div class="text-center content-center h-10 w-10 bg-color-550"><span class="text-bgColor">550</span></div>
		<div class="text-center content-center h-10 w-10 bg-color-600"><span class="text-bgColor">600</span></div>
		<div class="text-center content-center h-10 w-10 bg-color-650"><span class="text-bgColor">650</span></div>
		<div class="text-center content-center h-10 w-10 bg-color-700"><span class="text-bgColor">700</span></div>
		<div class="text-center content-center h-10 w-10 bg-color-750"><span class="text-bgColor">750</span></div>
		<div class="text-center content-center h-10 w-10 bg-color-800"><span class="text-bgColor">800</span></div>
		<div class="text-center content-center h-10 w-10 bg-color-850"><span class="text-bgColor">850</span></div>
		<div class="text-center content-center h-10 w-10 bg-color-900"><span class="text-bgColor">900</span></div>
	</div>
	-->
</PageLayout>

<style>
	/* Fade in animation styles */
	.fade-in-section {
		opacity: 0;
		transform: translateY(30px);
		transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1), transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.fade-in-section.is-visible {
		opacity: 1;
		transform: translateY(0);
	}

	/* Optional: Stagger animation for grid items */
	.fade-in-section .grid > * {
		opacity: 0;
		transform: translateY(20px);
		transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1), transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.fade-in-section.is-visible .grid > * {
		opacity: 1;
		transform: translateY(0);
	}

	/* Stagger delay for grid items */
	.fade-in-section.is-visible .grid > *:nth-child(1) { transition-delay: 0.1s; }
	.fade-in-section.is-visible .grid > *:nth-child(2) { transition-delay: 0.2s; }
	.fade-in-section.is-visible .grid > *:nth-child(3) { transition-delay: 0.3s; }

	/* Additional opacity transitions for smoother animations */
	.fade-in-section {
		transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1), transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.fade-in-section.is-visible {
		opacity: 1 !important;
		transform: translateY(0);
	}

	/* Ensure child elements inherit opacity properly */
	.fade-in-section.is-visible img,
	.fade-in-section.is-visible h1,
	.fade-in-section.is-visible h2,
	.fade-in-section.is-visible h3,
	.fade-in-section.is-visible p,
	.fade-in-section.is-visible span,
	.fade-in-section.is-visible div {
		opacity: 1;
	}
</style>

<script>
  const observerOptions = {
    root: null,
    rootMargin: '0px',
    threshold: 0.1
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('is-visible');
        observer.unobserve(entry.target); // Optional: stop observing once visible
      }
    });
  }, observerOptions);

  function setupFadeAnimations() {
    const fadeSections = document.querySelectorAll('.fade-in-section');

    fadeSections.forEach(section => {
      // Reset the animation state
      section.classList.remove('is-visible');

      // Observe the element
      observer.observe(section);

      // Immediately check if the element is already in view
      const rect = section.getBoundingClientRect();
      const windowHeight = window.innerHeight || document.documentElement.clientHeight;
      const windowWidth = window.innerWidth || document.documentElement.clientWidth;

      if (
        rect.top <= windowHeight &&
        rect.bottom >= 0 &&
        rect.left <= windowWidth &&
        rect.right >= 0
      ) {
        section.classList.add('is-visible');
        observer.unobserve(section);
      }
    });
  }

  document.addEventListener('DOMContentLoaded', setupFadeAnimations);
  document.addEventListener('astro:page-load', setupFadeAnimations);
  document.addEventListener('astro:after-swap', setupFadeAnimations);
</script>

